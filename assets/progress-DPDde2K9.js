import"./modulepreload-polyfill-B5Qt9EMX.js";function c(){return JSON.parse(localStorage.getItem("tasks")||"[]")}function i(){const a=c(),o=new Date;new Date(o.getTime()-7*24*60*60*1e3);const t={labels:[],completed:[],total:[]};for(let e=6;e>=0;e--){const n=new Date(o.getTime()-e*24*60*60*1e3),l=n.toISOString().split("T")[0],r=a.filter(s=>new Date(s.createdAt).toISOString().split("T")[0]===l);t.labels.push(n.toLocaleDateString("ja-JP",{weekday:"short"})),t.completed.push(r.filter(s=>s.status==="completed").length),t.total.push(r.length)}return t}function g(){const a=c(),o=new Date,t=new Date(o.getFullYear(),o.getMonth(),1),e={labels:[],completed:[],total:[]};for(let n=0;n<30;n++){const l=new Date(t.getTime()+n*24*60*60*1e3),r=l.toISOString().split("T")[0],s=a.filter(d=>new Date(d.createdAt).toISOString().split("T")[0]===r);e.labels.push(l.getDate().toString()),e.completed.push(s.filter(d=>d.status==="completed").length),e.total.push(s.length)}return e}function m(){const a=c(),o=a.length,t=a.filter(n=>n.status==="completed").length,e=o>0?Math.round(t/o*100):0;document.getElementById("totalTasks").textContent=o,document.getElementById("completedTasks").textContent=t,document.getElementById("completionRate").textContent=`${e}%`}function u(){const a=i(),o=document.getElementById("weeklyChart").getContext("2d");new Chart(o,{type:"bar",data:{labels:a.labels,datasets:[{label:"完了タスク",data:a.completed,backgroundColor:"rgba(75, 192, 192, 0.5)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1},{label:"総タスク",data:a.total,backgroundColor:"rgba(153, 102, 255, 0.5)",borderColor:"rgba(153, 102, 255, 1)",borderWidth:1}]},options:{responsive:!0,scales:{y:{beginAtZero:!0,ticks:{stepSize:1}}}}});const t=g(),e=document.getElementById("monthlyChart").getContext("2d");new Chart(e,{type:"line",data:{labels:t.labels,datasets:[{label:"完了タスク",data:t.completed,borderColor:"rgba(75, 192, 192, 1)",tension:.1},{label:"総タスク",data:t.total,borderColor:"rgba(153, 102, 255, 1)",tension:.1}]},options:{responsive:!0,scales:{y:{beginAtZero:!0,ticks:{stepSize:1}}}}})}document.addEventListener("DOMContentLoaded",()=>{m(),u()});
